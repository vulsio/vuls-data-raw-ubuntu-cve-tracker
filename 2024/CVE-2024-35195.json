{
	"candidate": "CVE-2024-35195",
	"description": "Requests is a HTTP library. Prior to 2.32.0, when making requests through a Requests `Session`, if the first request is made with `verify=False` to disable cert verification, all subsequent requests to the same host will continue to ignore cert verification regardless of changes to the value of `verify`. This behavior will continue for the lifecycle of the connection in the connection pool. This vulnerability is fixed in 2.32.0.",
	"notes": {
		"mdeslaur": "On focal and earlier, the python-pip package bundles requests binaries when built. After updating requests, a no-change rebuild of python-pip is required. On jammy and later, requests is bundled in the python-pip package and needs to be patched.  The fix for this issue introduced regressions in certain other applications, such as docker. See https://github.com/docker/docker-py/pull/3257 and resulted in 2.32.0 and 2.32.1 in being yanked, see: https://pypi.org/project/requests/#history  2.32.2 and 2.32.3 were subsequently released to fix those regressions.  Even with the regression fixes in 2.32.2 and 2.32.3, fixing this may still break applications that subclass HTTPAdapter, for example, cloud-init. See: https://github.com/canonical/cloud-init/pull/5435",
		"vyomydv": "The CVE patch causes a regression. The patch enforced the URL scheme to be either `http` or `https`. This broke users that used a custom scheme (e.g. `http+docker`) by implementing a custom `get_connection` method but used the default `send` method. Patching this CVE would require some users to update their source code like: https://github.com/docker/docker-py/pull/3257"
	},
	"priority": "medium",
	"references": [
		"https://www.cve.org/CVERecord?id=CVE-2024-35195",
		"https://github.com/psf/requests/security/advisories/GHSA-9wx4-h78v-vm56"
	],
	"assigned_to": "vyomydv",
	"public_date": "2024-05-20 21:15:00 UTC",
	"packages": {
		"devel": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			},
			"requests": {
				"name": "requests",
				"status": "released",
				"note": "2.32.3+dfsg-1ubuntu1",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		},
		"esm-apps/bionic": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			}
		},
		"esm-apps/focal": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			}
		},
		"esm-apps/jammy": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			}
		},
		"esm-apps/noble": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			}
		},
		"esm-apps/xenial": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			}
		},
		"esm-infra-legacy/trusty": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			},
			"requests": {
				"name": "requests",
				"status": "ignored",
				"note": "breaks users, requires source code updates",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		},
		"esm-infra/bionic": {
			"requests": {
				"name": "requests",
				"status": "ignored",
				"note": "breaks users, requires source code updates",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		},
		"esm-infra/xenial": {
			"requests": {
				"name": "requests",
				"status": "ignored",
				"note": "breaks users, requires source code updates",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		},
		"focal": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			},
			"requests": {
				"name": "requests",
				"status": "ignored",
				"note": "breaks users, requires source code updates",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		},
		"jammy": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			},
			"requests": {
				"name": "requests",
				"status": "ignored",
				"note": "breaks users, requires source code updates",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		},
		"mantic": {
			"python-pip": {
				"name": "python-pip",
				"status": "ignored",
				"note": "end of life, was needed"
			},
			"requests": {
				"name": "requests",
				"status": "ignored",
				"note": "end of life, was ignored [breaks users, requires source code updates]",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		},
		"noble": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			},
			"requests": {
				"name": "requests",
				"status": "ignored",
				"note": "breaks users, requires source code updates",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		},
		"trusty/esm": {
			"python-pip": {
				"name": "python-pip",
				"status": "needed"
			},
			"requests": {
				"name": "requests",
				"status": "ignored",
				"note": "breaks users, requires source code updates",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		},
		"upstream": {
			"python-pip": {
				"name": "python-pip",
				"status": "needs-triage"
			},
			"requests": {
				"name": "requests",
				"status": "needs-triage",
				"patches": [
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/pull/6655"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/a58d7f2ffb4d00b46dca2d70a3932a0b37e22fac"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/aa1461b68aa73e2f6ec0e78c8853b635c76fd099 (2.32.2)"
					},
					{
						"source": "upstream",
						"text": "https://github.com/psf/requests/commit/e18879932287c2bf4bcee4ddf6ccb8a69b6fc656 (2.32.3)"
					}
				]
			}
		}
	}
}
