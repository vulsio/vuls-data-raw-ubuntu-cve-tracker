{
	"candidate": "CVE-2007-2692",
	"description": "The mysql_change_db function in MySQL 5.0.x before 5.0.40 and 5.1.x before 5.1.18 does not restore THD::db_access privileges when returning from SQL SECURITY INVOKER stored routines, which allows remote authenticated users to gain privileges.",
	"notes": {
		"jdstrand": "very large complicated patch that requires many changes to the source and does not apply cleanly at all to feisty's 5.0.38, let alone to edgy and dapper. Trying to backport this fix would more than likely cause larger problems than not fixing it.  Currently discussing a one-time MicroVersionUpdate option.  May have to \"wont-fix\" and give an updated pacakge in -backports. per pitti et al, too many changes for a MicroVersionUpdate patch now in etch (5.0.32-7etch3), but causes several test cases to fail on dapper through feisty (TODO: test etch) etch patch left out both the test cases and patch to sql/sql_db.cc. If add the test cases then etch fails"
	},
	"priority": "medium",
	"bugs": [
		"https://bugs.launchpad.net/ubuntu/gutsy/+source/mysql-dfsg-5.0/+bug/201009"
	],
	"references": [
		"http://bugs.mysql.com/bug.php?id=28499",
		"http://bugs.mysql.com/bug.php?id=27337",
		"https://ubuntu.com/security/notices/USN-588-1",
		"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2692"
	],
	"assigned_to": "jdstrand",
	"public_date": "2007-05-16 01:19:00 UTC",
	"packages": {
		"dapper": {
			"mysql-dfsg-5.0": {
				"name": "mysql-dfsg-5.0",
				"status": "released",
				"note": "5.0.22-0ubuntu6.06.8",
				"patches": [
					{
						"source": "vendor",
						"text": "debian etch (5.0.32-7etch3)"
					}
				]
			}
		},
		"devel": {
			"mysql-dfsg-5.0": {
				"name": "mysql-dfsg-5.0",
				"status": "released",
				"note": "5.0.45-1ubuntu2",
				"patches": [
					{
						"source": "vendor",
						"text": "debian etch (5.0.32-7etch3)"
					}
				]
			}
		},
		"edgy": {
			"mysql-dfsg-5.0": {
				"name": "mysql-dfsg-5.0",
				"status": "released",
				"note": "5.0.24a-9ubuntu2.4",
				"patches": [
					{
						"source": "vendor",
						"text": "debian etch (5.0.32-7etch3)"
					}
				]
			}
		},
		"feisty": {
			"mysql-dfsg-5.0": {
				"name": "mysql-dfsg-5.0",
				"status": "released",
				"note": "5.0.38-0ubuntu1.4",
				"patches": [
					{
						"source": "vendor",
						"text": "debian etch (5.0.32-7etch3)"
					}
				]
			}
		},
		"gutsy": {
			"mysql-dfsg-5.0": {
				"name": "mysql-dfsg-5.0",
				"status": "released",
				"note": "5.0.45-1ubuntu2",
				"patches": [
					{
						"source": "vendor",
						"text": "debian etch (5.0.32-7etch3)"
					}
				]
			}
		},
		"upstream": {
			"mysql-dfsg-5.0": {
				"name": "mysql-dfsg-5.0",
				"status": "released",
				"note": "5.0.40",
				"patches": [
					{
						"source": "vendor",
						"text": "debian etch (5.0.32-7etch3)"
					}
				]
			}
		}
	}
}
